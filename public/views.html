<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Operating Table Test</title>
		<meta name="description" content="Tests context menu selection">
		<script src="js/aframe.js"></script>
		<script src="js/jquery-2.2.0.js"></script>

		<script>
			$(window).load(function () {
				$(".contextMenu .item").click(function () {
					$( this ).toggleClass( "selected" );
					
					if($( this ).hasClass( "selected" )){
						if($( this ).hasClass( "sagital" )) {
							$( "a-sphere a-plane" ).get(0).emit( "sagital" );
						}
						if($( this ).hasClass( "frontal" )) {
							$( "a-sphere a-plane" ).get(0).emit( "frontal" );
						}
						if($( this ).hasClass( "traverse" )) {
							$( "a-sphere a-plane" ).get(0).emit( "traverse" );
						}
					}
				});
			});
		</script>
	</head>
	<body>
		<a-scene>
			<a-camera position="-0.1 1.8 0" cursor-color="black" near="0.1"></a-camera>

			<a-plane width="100" height="100" rotation="90 0 0" color="grey"></a-plane>
			
			<a-root position="0 1.6 -1.2">
				<a-sphere class="source" radius="0.1">
					<a-plane class="sagital" width="0.25" height="0.25" rotation="0 0 90" color="brown">
						<a-animation begin="sagital"
							attribute="rotation"
							to="0 0 90"
							dur="1000"
							fill="forwards"></a-animation>
						<a-animation begin="frontal"
							attribute="rotation"
							to="0 90 0"
							dur="1000"
							fill="forwards"></a-animation>
						<a-animation begin="traverse"
							attribute="rotation"
							to="90 0 0"
							dur="1000"
							fill="forwards"></a-animation>
					</a-plane>
				</a-sphere>
				<a-root class="contextMenu">
					<a-sphere class="item sagital" color="yellow" radius="0.03" position="0.2 0.1 0"></a-sphere>
					<a-sphere class="item frontal" color="yellow" radius="0.03" position="0 0.25 0"></a-sphere>
					<a-sphere class="item traverse" color="yellow" radius="0.03" position="-0.2 0.1 0"></a-sphere>
				</a-root>
			</a-root>
			
			<a-sky color="#ECECEC"></a-sky>
		</a-scene>
	</body>
</html>